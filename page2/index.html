
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Urban Hafner</title>
  <meta name="author" content="Urban Hafner">

  
  <meta name="description" content="For most of my professional life as a programmer I&rsquo;ve been either working alone as a freelancer or in small teams that didn&rsquo;t practice &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://bettong.net/page2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/articles.atom" rel="alternate" title="Urban Hafner" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Urban Hafner</a></h1>
  
    <h2>Ruby, Ruby on Rails, JavaScript programmer. Dabbling with Rust and agile methodologies on the side.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/articles.atom" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="bettong.net">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://urbanhafner.com/contact">Contact</a></li>
  <li><a href="http://urbanhafner.com/resume">CV</a></li>
  <li><a href="/reading-list">Reading List</a></li>
  <li><a href="http://urbanhafnerphotography.com/">Photography</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/09/05/pair-program-with-me/">Pair Program With Me!</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-09-05T15:36:00+02:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>3:36 pm</span></time>
        
           | <a href="/2012/09/05/pair-program-with-me/#disqus_thread"
             data-disqus-identifier="http://bettong.net/2012/09/05/pair-program-with-me/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For most of my professional life as a programmer I&rsquo;ve been either working alone as a freelancer or in small teams that didn&rsquo;t practice pair programming. To improve my skills I want to start to pair program regularly with other people. If you&rsquo;re interested please contact me or just schedule a session on my <a href="http://doodle.com/urbanhafner">dedicated calendar</a>.</p>

<p>I&rsquo;m open to almost any topic and programming language but I know Ruby and JavaScript (both in a web development context) best so that would be good starting point for me.</p>

<p>As I live in Grenoble, France we&rsquo;re probably going to pair program remotely. I don&rsquo;t have much experience in doing that so please bear with me being a bit slow and having technical difficulties :)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/06/28/my-reading-list/">My Reading List</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-06-28T12:50:00+02:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>12:50 pm</span></time>
        
           | <a href="/2012/06/28/my-reading-list/#disqus_thread"
             data-disqus-identifier="http://bettong.net/2012/06/28/my-reading-list/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I always found it interesting to see what other people in our field are reading. In that vain I thought I&rsquo;d share my <a href="/reading-list">reading list</a>, too.</p>

<p>At this point it&rsquo;s very much a work in progress and I&rsquo;ll fill in more details as time goes on. Feel free to suggest new titles in the comments of this blog post or on the reading list page itself.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/03/08/book-review-land-of-lisp-by-conrad-barski/">Book Review: Land of Lisp by Conrad Barski</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-03-08T09:31:00+01:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>9:31 am</span></time>
        
           | <a href="/2012/03/08/book-review-land-of-lisp-by-conrad-barski/#disqus_thread"
             data-disqus-identifier="http://bettong.net/2012/03/08/book-review-land-of-lisp-by-conrad-barski/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/posts/lol_small.jpg" />
<a href="http://landoflisp.com/">Land of Lisp</a> by Conrad Barski is the second book in the <a href="http://rubyrogues.com/">Ruby Rogues</a> book club. As I enjoyed <a href="http://bettong.net/2012/03/02/eloquent-ruby-the-final-verdict/">Eloquent Ruby</a> (which was the first book we read) very much I thought I&rsquo;d give that one a try, too. And of course I hadn&rsquo;t used Lisp for a long time so I thought it would be a good refresher.</p>

<p>The first thing you see when you pick up the book is the awesome cover. The somewhat poorly drawn <a href="http://lisperati.com/logo.html">Lisp Alien</a> that Conrad Barski created some years ago as the mascot of Lisp sets the tone for the book: This isn&rsquo;t just another dry textbook that explains everything that Lisp (Common Lisp in this case) does. It contains drawings and you learn not by writing yet another calculator but by writing games.</p>

<p>Of course he&rsquo;s starting with the basic elements of Lisp so the first games are quite simple, but as the book progresses (he&rsquo;s even covering macros and lazy programming) they get more complex and in the end we&rsquo;re even presented with a board game with a GUI that you play in a browser against three computer players!</p>

<p>Ideally you should follow along by typing in the code and experimenting a bit to really understand all the concepts. But up to a certain point in the book it&rsquo;s also OK to just read along. That&rsquo;s what I did because I read the book in the evening on the couch or in the bed. Of course I didn&rsquo;t understand everything with this approach, but it worked well enough for me as most code examples are explained in detail.</p>

<p>All in all it was a fun read and it was great so see how you program in a language where code and data are more or less equal. I&rsquo;m not sure how much of that will translate into my Ruby or JavaScript programming but what the heck it was a fun read!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/03/07/using-sass-rails-3-dot-1-5-without-the-asset-pipeline-on-rails-3-dot-1-4/">Using Sass-rails 3.1.5 Without the Asset Pipeline on Rails 3.1.4</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-03-07T17:29:00+01:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>5:29 pm</span></time>
        
           | <a href="/2012/03/07/using-sass-rails-3-dot-1-5-without-the-asset-pipeline-on-rails-3-dot-1-4/#disqus_thread"
             data-disqus-identifier="http://bettong.net/2012/03/07/using-sass-rails-3-dot-1-5-without-the-asset-pipeline-on-rails-3-dot-1-4/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;m currently upgrading one of the Ruby on Rails apps from Rails 3.0 to Rails 3.1. As it so happens we&rsquo;re using <a href="http://activeadmin.info/">ActiveAdmin</a> with it which requires <a href="https://github.com/rails/sass-rails">sass-rails</a> on Rails 3.1. At the time of writing the latest version of <a href="https://github.com/rails/sass-rails">sass-rails</a> is 3.1.5 and it requires the asset pipeline to be enabled. But I don&rsquo;t want to upgrade from <a href="http://documentcloud.github.com/jammit/">jammit</a> at this time so I have to disable the asset pipeline. But with the asset pipeline disabled the app can&rsquo;t start due to <a href="https://github.com/rails/sass-rails">sass-rails</a>. So here&rsquo;s what I needed to do to make it work.</p>

<h3>config/environment.rb</h3>

<p>I had to change it so that it looks like the code snippet below. Basically this fakes the asset pipeline for the benefit of <a href="https://github.com/rails/sass-rails">sass-rails</a>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Load the rails application</span>
</span><span class='line'><span class="nb">require</span> <span class="no">File</span><span class="o">.</span><span class="n">expand_path</span><span class="p">(</span><span class="s1">&#39;../application&#39;</span><span class="p">,</span> <span class="bp">__FILE__</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="ss">Webanalyzer</span><span class="p">:</span><span class="ss">:Application</span><span class="o">.</span><span class="n">assets</span> <span class="o">=</span> <span class="no">Struct</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:context_class</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">append_path</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">);</span> <span class="k">end</span>
</span><span class='line'><span class="k">end</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">Class</span><span class="o">.</span><span class="n">new</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Initialize the rails application</span>
</span><span class='line'><span class="ss">Webanalyzer</span><span class="p">:</span><span class="ss">:Application</span><span class="o">.</span><span class="n">initialize!</span>
</span></code></pre></td></tr></table></div></figure>


<h3>config/application.rb</h3>

<p>Disable compilation of the assets alongside disabling the asset pipeline as a whole.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kp">false</span>
</span><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">compile</span> <span class="o">=</span> <span class="kp">false</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Done!</h3>

<p>The two small changes fixed <a href="https://github.com/rails/sass-rails">sass-rails</a> without the asset pipeline for now. Hopefully <a href="https://github.com/rails/sass-rails/pull/84">pull request #84</a> will be merged into sass-rails soon and a new version will be released so that this hack won&rsquo;t be necessary. Until then this is the most basic fix I could come up with.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/03/02/eloquent-ruby-the-final-verdict/">Eloquent Ruby &#8211; the Final Verdict</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-03-02T21:25:00+01:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2012</span></span> <span class='time'>9:25 pm</span></time>
        
           | <a href="/2012/03/02/eloquent-ruby-the-final-verdict/#disqus_thread"
             data-disqus-identifier="http://bettong.net/2012/03/02/eloquent-ruby-the-final-verdict/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This will be my final post on Eloquent Ruby by Russ Olsen. All in all I really liked the book and I think that if you&rsquo;re serious about being a Ruby developer this book should be in your library.</p>

<p>It is a valuable book for several reasons. First of all it is as close as humanly possible to a definite style guide for programming in Ruby. This doesn&rsquo;t just cover formatting your code and if or when to use camel case but more importantly when and how to use certain parts of the language. Secondly, it contains a lot of best practices, especially on the use of modules, classes and meta-programming. And thirdly it explains some of the more advances parts of Ruby extremely well. For example I never knew the difference between <code>lambda</code> and <code>Proc.new</code> and what hooks Ruby provides to help you with meta-programming.</p>

<p>So please do yourself a favor and read the book. More than once!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/11/07/notes-on-eloquent-ruby-number-3/">Notes on Eloquent Ruby #3</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-11-07T15:11:00+01:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2011</span></span> <span class='time'>3:11 pm</span></time>
        
           | <a href="/2011/11/07/notes-on-eloquent-ruby-number-3/#disqus_thread"
             data-disqus-identifier="http://bettong.net/2011/11/07/notes-on-eloquent-ruby-number-3/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In this post I&rsquo;m focusing on chapter 13: <em>Get the Behavior You Need with Singleton and Class Methods</em>. This chapter was a nice wow moment for me, but also a bit embarrassing as this isn&rsquo;t really advanced Ruby knowledge but I&rsquo;ve managed to never really learn it. So what does the chapter talk about? It talks about Ruby singleton and class methods and that they&rsquo;re basically the same thing under the hood!</p>

<h3>What?</h3>

<p>So we all know that we can define class methods like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">DennisMoore</span>
</span><span class='line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">riding_through_the_night</span>
</span><span class='line'>    <span class="c1"># ...</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>And we also know that this is equivalent to the following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">DennisMoore</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nc">DennisMoore</span><span class="o">.</span><span class="nf">riding_through_the_night</span>
</span><span class='line'>  <span class="c1"># ...</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now let&rsquo;s compare this to defining a method on an object instead of a class (aka defining a singleton method):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">obj</span> <span class="o">=</span> <span class="no">Object</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="k">def</span> <span class="nc">obj</span><span class="o">.</span><span class="nf">bla</span>
</span><span class='line'>  <span class="c1"># ...</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Quite similar that code, isn&rsquo;t it? This could just be a coincidence, but of course being a nicely designed language it isn&rsquo;t.</p>

<h3>So how does it work?</h3>

<p>Quite easily actually. As you know Ruby is an object oriented language down to it&rsquo;s core. So it comes naturally that classes are just objects, too. So when you are defining class methods you are actually defining singleton methods on the instance of <tt>Class</tt> that defines your class (<tt>DennisMoore</tt> in this case) which is no different from defining singleton methods on &ldquo;normal&rdquo; objects!</p>

<h3>And where are those methods stored?</h3>

<p>Now that we know that we are just defining singleton methods the only question remaining is where these methods are stored? Remember, when we are calling a method on an object, Ruby searches for the method in the class of the object, then the super class and so on until it finds it. But of course we can&rsquo;t put our singleton methods into the class as we only want these methods to be defined for that single object. So we could come up with some hack that stores the methods somehow in the instance. Or, we could do the elegant thing and add a special class to each object that sits between it and the &ldquo;real&rdquo; class of that object. This way we can use the normal rules of inheritance for singleton methods. This is of course what Ruby does. It calls it the <em>singleton class</em> even.</p>

<h3>Wrapping up</h3>

<p>So to summarize: Each Ruby object has a <em>singleton class</em> in the method lookup path between itself and its class. That&rsquo;s where singleton methods are defined. And class methods are just a special case of this as classes themselves are just objects (and instances of class <tt>Class</tt>).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/11/03/notes-on-eloquent-ruby-number-2/">Notes on Eloquent Ruby #2</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-11-03T16:31:00+01:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>3</span><span class='date-suffix'>rd</span>, <span class='date-year'>2011</span></span> <span class='time'>4:31 pm</span></time>
        
           | <a href="/2011/11/03/notes-on-eloquent-ruby-number-2/#disqus_thread"
             data-disqus-identifier="http://bettong.net/2011/11/03/notes-on-eloquent-ruby-number-2/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In this second post we look at chapter 10: <em>Construct Your Classes from Short, Focused Methods</em>. The first thing that comes to mind is of course that methods should be short. Some years ago my rule of thumb was that a method should fit on the screen. But now that I&rsquo;m using a 27&#8217;&lsquo; screen that doesn&rsquo;t hold true anymore, of course. Also this misses the important point of the chapter and that is: use the <em>composed method</em> technique for your methods. Paraphrasing the book the method written using the composed method technique should have three characteristics:</p>

<ol>
<li>They should do a single thing only</li>
<li>They should operate on a single conceptual level, i.e. they shouldn&rsquo;t mix high-level and low-level things</li>
<li>They need to have a descriptive names, i.e. names that describe the purpose of the method</li>
</ol>


<p>Adhering to these rules gives you nicely structured methods that should be easily understandable and as a side benefit they are also easily testable as each method only does one small thing and therefore there&rsquo;s no need for extensive mocking and setting up context.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/10/27/notes-on-eloquent-ruby-number-1/">Notes on Eloquent Ruby #1</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-10-27T13:47:00+02:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2011</span></span> <span class='time'>1:47 pm</span></time>
        
           | <a href="/2011/10/27/notes-on-eloquent-ruby-number-1/#disqus_thread"
             data-disqus-identifier="http://bettong.net/2011/10/27/notes-on-eloquent-ruby-number-1/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The <a href="http://rubyrogues.com/">Ruby Rogues</a> book club is currently reading
Eloquent Ruby and I thought I&rsquo;d tag along and read the book, too. I&rsquo;ll be
posting my thoughts on the book in this post and in a few future posts.</p>

<h2>Chapter 3: Take Advantage of Ruby&rsquo;s Smart Collections</h2>

<p>This chapter details the use of the Hash and Array classes and that
they can be used instead of specialized custom classes in most cases.
That&rsquo;s not really surprising and also that&rsquo;s not what I&rsquo;m taking away
from this chapter. The good point are the last two pages where he
mentions that there are cases where you shouldn&rsquo;t use Array or Hash but
rather use specialized collections when they make sense.</p>

<p>His example is the following: Imagine that we want to know if a word
appears in a document. We could either use a Hash for this</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">word_is_there</span> <span class="o">=</span> <span class="p">{}</span>
</span><span class='line'><span class="n">words</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word_is_there</span><span class="o">[</span><span class="n">word</span><span class="o">]</span> <span class="o">=</span> <span class="kp">true</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>or an Array</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">unique</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="n">words</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">unique</span> <span class="o">&lt;&lt;</span> <span class="n">word</span> <span class="k">unless</span> <span class="n">unique</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="n">word</span><span class="p">)}</span>
</span></code></pre></td></tr></table></div></figure>


<p>However both approaches aren&rsquo;t ideal because in the case of the Hash we
aren&rsquo;t interested in the values we store and in the case of the Array we
need to make sure the Array contains no duplicates. It turns out that in
this case we should use the Ruby Set class because it&rsquo;s just made for
this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;set&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">word_set</span> <span class="o">=</span> <span class="no">Set</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Other collections from the standard library</h2>

<p>This got me thinking and I went through the standard library to look for
other collections that you make overlook:</p>

<h3>Struct</h3>

<p>Many times we use Hashes to store data like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">first_name</span><span class="p">:</span> <span class="s2">&quot;Jon&quot;</span><span class="p">,</span> <span class="n">last_name</span><span class="p">:</span> <span class="s2">&quot;Snow&quot;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>If we need to pass that data around a lot it might be cleaner to create
a dedicated class for it. However if it&rsquo;s just a container for the data
and doesn&rsquo;t have any other functionality we could also use a struct.
This way we get a more expressive name:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Struct</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="ss">:first_name</span><span class="p">,</span> <span class="ss">:last_name</span><span class="p">)</span>
</span><span class='line'><span class="ss">Struct</span><span class="p">:</span><span class="ss">:Name</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Jon&quot;</span><span class="p">,</span> <span class="s2">&quot;Snow&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Matrix and Vector</h3>

<p>Matrices and Vectors could be represented by Arrays but there&rsquo;s really
no point in not using the Matrix and Vector classes provided by the matrix
standard library.</p>

<h3>Anything else?</h3>

<p>A quick look through the standard library didn&rsquo;t reveal any other
collections. At least I didn&rsquo;t see any, but I&rsquo;d be happy to be proven
wrong.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/index.html">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Pair Programming</h1>
  <p>
    I&#8217;m always happy to pair program. Either
    on <a href="http://github.com/ujh/iomrascalai">Iomrascálaí</a>
    (written in <a href="http://rust-lang.org">Rust</a>) or on any
    Ruby, Ruby on Rails, or JavaScript project.
  </p>
  <p>
    Just <a href="mailto:contact@urbanhafner.com">send me an email</a>
    and we can set something up!
  </p>
</section>
<section>
  <h1>Categories</h1>
  <ul id="category-list"><li><a href='/blog/categories/agile'>agile (1)</a></li><li><a href='/blog/categories/ai'>ai (2)</a></li><li><a href='/blog/categories/artificial-intelligence'>artificial intelligence (2)</a></li><li><a href='/blog/categories/baduk'>baduk (2)</a></li><li><a href='/blog/categories/book-club'>book club (5)</a></li><li><a href='/blog/categories/book-review'>book review (2)</a></li><li><a href='/blog/categories/books'>books (1)</a></li><li><a href='/blog/categories/ci'>ci (2)</a></li><li><a href='/blog/categories/compile-time-polymorphism'>compile time polymorphism (1)</a></li><li><a href='/blog/categories/concurrency'>concurrency (2)</a></li><li><a href='/blog/categories/continuous-integration'>continuous integration (2)</a></li><li><a href='/blog/categories/eloquent-ruby'>eloquent ruby (4)</a></li><li><a href='/blog/categories/emacs'>emacs (1)</a></li><li><a href='/blog/categories/go'>go (2)</a></li><li><a href='/blog/categories/goos'>goos (1)</a></li><li><a href='/blog/categories/hack'>hack (1)</a></li><li><a href='/blog/categories/hexagonal-rails'>hexagonal rails (1)</a></li><li><a href='/blog/categories/inspeqtor'>inspeqtor (1)</a></li><li><a href='/blog/categories/iomrascálaí'>iomrascálaí (3)</a></li><li><a href='/blog/categories/jim-weirich'>jim weirich (1)</a></li><li><a href='/blog/categories/launchd'>launchd (1)</a></li><li><a href='/blog/categories/learning-rust'>learning rust (4)</a></li><li><a href='/blog/categories/learning-rust-tasks-and-messages'>learning rust tasks and messages (2)</a></li><li><a href='/blog/categories/lisp'>lisp (1)</a></li><li><a href='/blog/categories/management'>management (1)</a></li><li><a href='/blog/categories/matt-wynne'>matt wynne (1)</a></li><li><a href='/blog/categories/monit'>monit (1)</a></li><li><a href='/blog/categories/pair-programming'>pair programming (2)</a></li><li><a href='/blog/categories/polymorphism'>polymorphism (1)</a></li><li><a href='/blog/categories/process-monitoring'>process monitoring (1)</a></li><li><a href='/blog/categories/programming'>programming (5)</a></li><li><a href='/blog/categories/qa'>qa (1)</a></li><li><a href='/blog/categories/quality-assurance'>quality assurance (1)</a></li><li><a href='/blog/categories/rails'>rails (1)</a></li><li><a href='/blog/categories/review'>review (2)</a></li><li><a href='/blog/categories/ruby'>ruby (6)</a></li><li><a href='/blog/categories/ruby-on-rails'>ruby on rails (2)</a></li><li><a href='/blog/categories/rust'>rust (6)</a></li><li><a href='/blog/categories/sass'>sass (1)</a></li><li><a href='/blog/categories/sass-rails'>sass-rails (1)</a></li><li><a href='/blog/categories/scrum'>scrum (1)</a></li><li><a href='/blog/categories/tasks'>tasks (2)</a></li><li><a href='/blog/categories/testing'>testing (1)</a></li><li><a href='/blog/categories/travis-ci'>travis ci (1)</a></li><li><a href='/blog/categories/weiqi'>weiqi (2)</a></li><li><a href='/blog/categories/workaround'>workaround (1)</a></li></ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Urban Hafner -
  <a href="/imprint">Imprint</a>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'bettong-net';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<script src="//static.getclicky.com/js" type="text/javascript"></script>
<script type="text/javascript">try{ clicky.init(100625780); }catch(e){}</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100625780ns.gif" /></p></noscript>


</body>
</html>
